openapi: 3.0.0
servers:
  # Added by API Auto Mocking Plugin
  - url: https://kasir.farrelanshary.me/
info:
  version: "1.0.0"
  title: Kasir API
  description: API punya kasir cug, jangan dicari
paths:
  '/api/general/provinces':
    get:
      tags:
        - Region
      description: Returns all provinces in Indonesia
      parameters:
        - name: api_key
          in: query
          description: API key provided by Farrel Anshary
          required: true
          schema:
            type: string
          example: asdasd
      responses:
        '200':
          description: All provinces
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get all provinces"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      provinces:
                        type: array
                        description: Single province data
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID represents a unique identifier of the province
                              example: 11
                            name:
                              type: string
                              description: Name of the province
                              example: "ACEH"
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'
      summary: Get all provinces
  '/api/general/regencies/{provinceId}':
    get:
      tags:
        - Region
      description: Returns all regencies in specified province
      parameters:
        - name: provinceId
          in: path
          required: true
          description: Province id acquired from provinces
          schema:
            type: integer
          example: 32
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
      responses:
        '200':
          description: All regencies in this province
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get all regencies in JAWA BARAT"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      province:
                        type: object
                        description: Single province data
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the province
                            example: 32
                          name:
                            type: string
                            description: Name of the province
                            example: JAWA BARAT
                          regencies:
                            type: array
                            description: Regencies in specified province
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the regency
                                  example: 3201
                                name:
                                  type: string
                                  description: Name of the regency
                                  example: KABUPATEN BOGOR

        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "No query results for model [App\\Models\\Province] 322"
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'
      summary: Get all regencies from a province

  '/api/general/districts/{regencyId}':
    get:
      tags:
        - Region
      description: Returns all regencies in specified province
      parameters:
        - name: regencyId
          in: path
          required: true
          description: Regency id acquired from regencies
          schema:
            type: integer
          example: 32
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
      responses:
        '200':
          description: All districts in this regency
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get all districts in KOTA BANDUNG"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      regency:
                        type: object
                        description: Single regency data
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the regency
                            example: 3273
                          name:
                            type: string
                            description: Name of the regency
                            example: KOTA BANDUNG
                          districts:
                            type: array
                            description: Districts in specified regency
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the district
                                  example: 3273010
                                name:
                                  type: string
                                  description: Name of the district
                                  example: BANDUNG KULON

        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "No query results for model [App\\Models\\Regency] 32734"
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'
      summary: Get all districts from a regency

  '/api/general/animals':
    get:
      tags:
        - Animals
      description: Get or search all animals, add query to your parameters to search for animals
      parameters:
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
        - name: query
          in: query
          required: false
          description: Search query (optional)
          schema:
            type: string
          example: Harimau jawa
      summary: Get / search all animals
      responses:
        '200':
          description: Successfully get animals
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get animals"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      animals:
                        type: array
                        description: Animals data
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID represents a unique identifier of the animal
                              example: 1
                            name:
                              type: string
                              description: Name of the animal
                              example: Harimau Sumatera
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

    post:
      tags:
        - Animals
      summary: Create a new animal
      description: Create a new animal data to database
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - api_key
                - name
              properties:
                api_key:
                  type: string
                  description: API key provided by Farrel Anshary
                  example: asdasd
                name:
                  type: string
                  description: Name of the animal
                  example: Jackie Leonardy
      responses:
        '201':
          description: Successfully create new animal
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully add new animal"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      animal:
                        type: object
                        description: Created animal data
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the animal
                            example: 1
                          name:
                            type: string
                            description: Name of the animal
                            example: Harimau Sumatera
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

        '422':
          description: Unprocessable entity
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "The given data was invalid."
                  errors:
                    type: object
                    description: List of error fields
                    properties:
                      name:
                        type: array
                        description: List of errors in one field
                        items:
                          type: string
                        example: [
                          "The name field is required.",
                          "The name has already been taken."
                        ]

  '/api/general/organizations':
    get:
      tags:
        - Organizations
      description: Get or search all organizations, add query to your parameters to search for organizations
      parameters:
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
        - name: query
          in: query
          required: false
          description: Search query (optional)
          schema:
            type: string
          example: IAR
      summary: Get / search all organizations
      responses:
        '200':
          description: Successfully get organizations
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get organizations"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      organizations:
                        type: array
                        description: Organizations data
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID represents a unique identifier of the organization
                              example: 1
                            name:
                              type: string
                              description: Name of the organization
                              example: IAR
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

    post:
      tags:
        - Organizations
      summary: Create a new organization
      description: Create a new organization data to database
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - api_key
                - name
              properties:
                api_key:
                  type: string
                  description: API key provided by Farrel Anshary
                  example: asdasd
                name:
                  type: string
                  description: Name of the organization
                  example: WWF
      responses:
        '201':
          description: Successfully create new organization
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully add new organization"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      organization:
                        type: object
                        description: Created organization data
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the organization
                            example: 1
                          name:
                            type: string
                            description: Name of the organization
                            example: WWF
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

        '422':
          description: Unprocessable entity
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "The given data was invalid."
                  errors:
                    type: object
                    description: List of error fields
                    properties:
                      name:
                        type: array
                        description: List of errors in one field
                        items:
                          type: string
                        example: [
                          "The name field is required.",
                          "The name has already been taken."
                        ]

  '/api/general/sites':
    get:
      tags:
        - Sites
      description: Get or search all sites, add query to your parameters to search for sites
      parameters:
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
        - name: query
          in: query
          required: false
          description: Search query (optional)
          schema:
            type: string
          example: Kompas.com
      summary: Get / search all sites
      responses:
        '200':
          description: Successfully get sites
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get sites"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      sites:
                        type: array
                        description: Sites data
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID represents a unique identifier of the website
                              example: 1
                            name:
                              type: string
                              description: Name of the website
                              example: detiknews
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

    post:
      tags:
        - Sites
      summary: Create a new site
      description: Create a new site data to database
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - api_key
                - name
              properties:
                api_key:
                  type: string
                  description: API key provided by Farrel Anshary
                  example: asdasd
                name:
                  type: string
                  description: Name of the site
                  example: detik.com
      responses:
        '201':
          description: Successfully create new site
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully add new site"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      site:
                        type: object
                        description: Created site data
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the website
                            example: 1
                          name:
                            type: string
                            description: Name of the website
                            example: detik.com
        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

        '422':
          description: Unprocessable entity
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "The given data was invalid."
                  errors:
                    type: object
                    description: List of error fields
                    properties:
                      name:
                        type: array
                        description: List of errors in one field
                        items:
                          type: string
                        example: [
                          "The name field is required.",
                          "The name has already been taken."
                        ]

  '/api/general/news':
    get:
      tags:
        - News
      description: Get all news
      parameters:
        - name: api_key
          in: query
          required: true
          description: API key provided by Farrel Anshary
          schema:
            type: string
          example: asdasd
      summary: Get all news
      responses:
        '200':
          description: Successfully get news
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully get news"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      news:
                        type: array
                        description: News data
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID represents a unique identifier of the news
                              example: 1
                            title:
                              type: string
                              description: Title of the news
                              example: Bunuh-Cincang Penyu Langka Dilindungi, 7 Nelayan Gunungkidul Ditangkap
                            url:
                              type: string
                              description: URL of the news
                              example: https://news.detik.com/berita-jawa-tengah/d-5541942/bunuh-cincang-penyu-langka-dilindungi-7-nelayan-gunungkidul-ditangkap
                            date:
                              type: string
                              description: Date of the reported news
                              example: "2021-04-22"
                            isTrained:
                              type: boolean
                              description: Whether the row has been trained or not
                              example: true
                            label:
                              type: string
                              description: Label of the news
                              example: "perburuan"
                            organization:
                              type: object
                              description: Organization involved in the news
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the organization
                                  example: 6
                                name:
                                  type: string
                                  description: Name of the organization
                                  example: BKSDA DIY
                            site:
                              type: object
                              description: Site source of the news
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the website
                                  example: 2
                                name:
                                  type: string
                                  description: Name of the website
                                  example: detiknews
                            animals:
                              type: array
                              description: Animals involved in this case
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                    description: ID represents a unique identifier of the animal
                                    example: 6
                                  name:
                                    type: string
                                    description: Name of the animal
                                    example: Penyu Lekang
                                  amount:
                                    type: integer
                                    description: Amount of the animal involved
                                    example: 1
                            province:
                              type: object
                              description: Province where the case happened (nullable)
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the province
                                  example: 34
                                name:
                                  type: string
                                  description: Name of the province
                                  example: "DI YOGYAKARTA"
                            regency:
                              type: object
                              description: Regency where the case happened (nullable)
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the regency
                                  example: 3403
                                name:
                                  type: string
                                  description: Name of the regency
                                  example: KABUPATEN GUNUNG KIDUL
                            district:
                              type: object
                              description: District where the case happened (nullable)
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the district
                                  example: 3403040
                                name:
                                  type: string
                                  description: Name of the district
                                  example: TEPUS

        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'

    post:
      tags:
        - News
      summary: Create a new news
      description: Create a new news data to database
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - api_key
                - title
                - url
                - isTrained
                - animals
                - label
              properties:
                api_key:
                  type: string
                  description: API key provided by Farrel Anshary
                  example: asdasd
                title:
                  type: string
                  description: Title of the news
                  example: KKP Gagalkan Penangkapan Penyu Hijau Ilegal di Desa Waduwalla
                url:
                  type: string
                  description: URL of the news
                  example: https://borneo24.com/headlines/kkp-gagalkan-penangkapan-penyu-hijau-ilegal-di-desa-waduwalla
                date:
                  type: string
                  description: Date of the reported news with valid yyyy-mm-dd format (optional)
                  example: "2020-11-05"
                isTrained:
                  type: boolean
                  description: Whether the row has been trained or not
                  example: false
                label:
                  type: string
                  description: Label of the news (penyelundupan, penyitaan, perburuan, perdagangan, others)
                  example: "perburuan"
                organization:
                  type: string
                  description: Organization involved in the news (optional)
                  example: BKKPN Kupang
                site:
                  type: string
                  description: Site source of the news (optional)
                  example: Borneo24.com - Berita Terbaru dan Terkini di Kalimantan
                district:
                  type: string
                  description: District where the case happened (optional)
                  example: SABU LIAE
                regency:
                  type: string
                  description: Regency where the case happened (optional)
                  example: KABUPATEN SABU RAIJUA
                province:
                  type: string
                  description: Province where the case happened (optional)
                  example: NUSA TENGGARA TIMUR
                animals:
                  type: array
                  description: Animals involved in this case
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: Name of the animal
                        example: Penyu Hijau
                      amount:
                        type: integer
                        description: Amount of the animal involved
                        example: 3

      responses:
        '201':
          description: Successfully post a news
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "Successfully add new site"
                  data:
                    type: object
                    description: Returned data from server
                    properties:
                      news:
                        type: object
                        properties:
                          id:
                            type: integer
                            description: ID represents a unique identifier of the news
                            example: 8
                          title:
                            type: string
                            description: Title of the news
                            example: KKP Gagalkan Penangkapan Penyu Hijau Ilegal di Desa Waduwalla
                          url:
                            type: string
                            description: URL of the news
                            example: https://borneo24.com/headlines/kkp-gagalkan-penangkapan-penyu-hijau-ilegal-di-desa-waduwalla
                          date:
                            type: string
                            description: Date of the reported news
                            example: "2020-11-05"
                          isTrained:
                            type: boolean
                            description: Whether the row has been trained or not
                            example: false
                          label:
                            type: string
                            description: Label of the news
                            example: "perburuan"
                          organization:
                            type: object
                            description: Organization involved in the news
                            properties:
                              id:
                                type: integer
                                description: ID represents a unique identifier of the organization
                                example: 8
                              name:
                                type: string
                                description: Name of the organization
                                example: BKKPN Kupang
                          site:
                            type: object
                            description: Site source of the news
                            properties:
                              id:
                                type: integer
                                description: ID represents a unique identifier of the website
                                example: 4
                              name:
                                type: string
                                description: Name of the website
                                example: Borneo24.com - Berita Terbaru dan Terkini di Kalimantan
                          animals:
                            type: array
                            description: Animals involved in this case
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: ID represents a unique identifier of the animal
                                  example: 7
                                name:
                                  type: string
                                  description: Name of the animal
                                  example: Penyu Hijau
                                amount:
                                  type: integer
                                  description: Amount of the animal involved
                                  example: 3
                          province:
                            type: object
                            description: Province where the case happened (nullable)
                            properties:
                              id:
                                type: integer
                                description: ID represents a unique identifier of the province
                                example: 54
                              name:
                                type: string
                                description: Name of the province
                                example: NUSA TENGGARA TIMUR
                          regency:
                            type: object
                            description: Regency where the case happened (nullable)
                            properties:
                              id:
                                type: integer
                                description: ID represents a unique identifier of the regency
                                example: 5320
                              name:
                                type: string
                                description: Name of the regency
                                example: KABUPATEN SABU RAIJUA
                          district:
                            type: object
                            description: District where the case happened (nullable)
                            properties:
                              id:
                                type: integer
                                description: ID represents a unique identifier of the district
                                example: 5320030
                              name:
                                type: string
                                description: Name of the district
                                example: SABU LIAE
        '422':
          description: Unprocessable entity
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Love letter from server ❤️
                    example: "The given data was invalid."
                  errors:
                    type: object
                    description: List of error fields
                    properties:
                      title:
                        type: array
                        description: List of errors in title field
                        items:
                          type: string
                        example: [
                          "The title field is required.",
                        ]
                      url:
                        type: array
                        description: List of errors in url field
                        items:
                          type: string
                        example: [
                          "The url field is required.",
                          "The url must be a valid URL."
                        ]
                      date:
                        type: array
                        description: List of errors in date field
                        items:
                          type: string
                        example: [
                          "The date is not a valid date."
                        ]
                      isTrained:
                        type: array
                        description: List of errors in isTrained field
                        items:
                          type: string
                        example: [
                          "The isTrained field is required.",
                        ]
                      label:
                        type: array
                        description: List of errors in label field
                        items:
                          type: string
                        example: [
                          "The label field is required.",
                          "The selected label is invalid."
                        ]
                      animals:
                        type: array
                        description: List of errors in animals field
                        items:
                          type: string
                        example: [
                          "The animals field is required."
                        ]
                      district:
                        type: array
                        description: District must be exist if regency and province not exist
                        items:
                          type: string
                        example: [
                          "The district field is required when none of regency / province are present."
                        ]
                      regency:
                        type: array
                        description: Regency must be exist if district and province not exist
                        items:
                          type: string
                        example: [
                          "The regency field is required when none of district / province are present."
                        ]
                      province:
                        type: array
                        description: Province must be exist if district and regency not exist
                        items:
                          type: string
                        example: [
                          "The province field is required when none of regency / district are present."
                        ]


        '401':
          description: Unauthorized user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_401'


components:
  schemas:
    inline_response_401:
      type: object
      properties:
        message:
          type: string
          description: Love letter from server ❤️
          example: Unauthorized
